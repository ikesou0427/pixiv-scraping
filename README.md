# pixiv scraping
## 内容
pixivの画像を自動で収集するスクレイピングツールです。<br>
画像認識プログラムで同系統の画像が大量に必要になったので作成しました。

## セットアップ
1.  clone後、main.tsのある階層で`npm update`を実行<br>
    tsの動く環境でしたら大体これで終わりです。
2. default.jsonを編集

### default.json (設定ファイル)について
- tag <br>
pixivのタグです。このタグのついている画像を取得します。
- limit_bookmark_count<br>
取得するブックマーク数の下限です。この数以上の画像のみ取得されます。
- page_to_start_downloading<br>
ダウンロードを開始するページ数です。途中でエラーが発生したなど、途中からダウンロードを開始したいときに利用します。<br>
基本的には1を設定します。
- last_access_artwork_id<br>
最新の画像の作品IDが保存されます。<br>
このIDを元にどこまでダウンロードしているかを判断します。<br>
初めて利用する場合は0を設定します。
- skip<br>
この値が有効な時、そのタグの作品はスクレイピングが実行されません。

## 使い方
`ts-node main.ts`と入力して実行

## 今後
処理・ディレクトリ構成が気に食わないので変更予定です。<br>

## その他
サーバに負荷をかけないよう動作速度を大幅に落としています。<br>
利用は自己責任でお願い致します。<br>